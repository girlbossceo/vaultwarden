"use strict";function getBaseUrl(){const e=window.location.pathname,t=e.indexOf("/admin"),r=e.substring(0,-1!=t?t:e.length);return`${window.location.origin}${r}`}const BASE_URL=getBaseUrl();function reload(){window.location=window.location.href}function msg(e,t=!0){e&&alert(e),t&&reload()}function _post(e,t,r,o,n=!0){let a,s;fetch(e,{method:"POST",body:o,mode:"same-origin",credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then((e=>e.ok?(msg(t,n),Promise.reject({error:!1})):(a=e.status,s=e.statusText,e.text()))).then((e=>{try{const t=JSON.parse(e);return t.ErrorModel&&t.ErrorModel.Message?t.ErrorModel.Message:Promise.reject({body:`${a} - ${s}\n\nUnknown error`,error:!0})}catch(e){return Promise.reject({body:`${a} - ${s}\n\n[Catch] ${e}`,error:!0})}})).then((e=>{msg(`${r}\n${e}`,n)})).catch((e=>{if(!1===e.error)return!0;msg(`${r}\n${e.body}`,n)}))}const getStoredTheme=()=>localStorage.getItem("theme"),setStoredTheme=e=>localStorage.setItem("theme",e),getPreferredTheme=()=>{const e=getStoredTheme();return e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},setTheme=e=>{"auto"===e&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.setAttribute("data-bs-theme",e)};setTheme(getPreferredTheme());const showActiveTheme=(e,t=!1)=>{const r=document.querySelector("#bd-theme");if(!r)return;const o=document.querySelector("#bd-theme-text"),n=document.querySelector(".theme-icon-active use"),a=document.querySelector(`[data-bs-theme-value="${e}"]`),s=a.querySelector("span use").innerText;document.querySelectorAll("[data-bs-theme-value]").forEach((e=>{e.classList.remove("active"),e.setAttribute("aria-pressed","false")})),a.classList.add("active"),a.setAttribute("aria-pressed","true"),n.innerText=s;const c=`${o.textContent} (${a.dataset.bsThemeValue})`;r.setAttribute("aria-label",c),t&&r.focus()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{const e=getStoredTheme();"light"!==e&&"dark"!==e&&setTheme(getPreferredTheme())})),document.addEventListener("DOMContentLoaded",(()=>{showActiveTheme(getPreferredTheme()),document.querySelectorAll("[data-bs-theme-value]").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-bs-theme-value");setStoredTheme(t),setTheme(t),showActiveTheme(t,!0)}))}));const e=window.location.pathname;if(""===e)return;const t=document.querySelectorAll(`.navbar-nav .nav-item a[href="${e}"]`);1===t.length&&(t[0].className=t[0].className+" active",t[0].setAttribute("aria-current","page"))}));